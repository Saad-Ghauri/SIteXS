{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="{% static 'style.css' %}">
        <script src="{% static 'index.js' %}"></script>
        <style>
            #virtual-tour.active .content-container {
  color: #6610f2; /* Change text color to indigo */
  fill: #6610f2; /* Change SVG fill color to indigo */
}
        </style>
        
</head>
<body>
    

    <div class="container">
        

        <div class="flex">


            <!-- Dashboard Sidebar -->

            <aside id="dashboard-sidebar" class="border-r  bg-white w-52 p-4 text-zinc-500 font-medium  text-sm">
                <div class="flex flex-col justify-center items-center border-b-2">
                    <button id="sidebar-toggle" class="hamburger-icon">
                        <!-- Your hamburger icon content here -->
                    </button>
                    
                    <img class="w-min" src="{% static 'img/SiteX logo.svg' %}" alt="" srcset="">
                    <div class="text-xl animate-pulse">{{ user.username }}</div>
                    
                </div>
                

                <ul class="space-y-6 mx-3  mt-5">
                    <h2 class="text-zinc-500 text-xs tracking-wider font-normal">MENU</h2>

                    

                    <li class="flex items-end justify-between space-x-3 group w-44">
                        <a href="{% url 'dashboard' %}" class="flex items-center space-x-3">
                            <svg class="  {% if request.path == '/dashboard/' %} fill-indigo-600 {% else %} fill-zinc-500 {% endif %}" width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M7 10.75H5C2.58 10.75 1.25 9.42 1.25 7V5C1.25 2.58 2.58 1.25 5 1.25H7C9.42 1.25 10.75 2.58 10.75 5V7C10.75 9.42 9.42 10.75 7 10.75ZM5 2.75C3.42 2.75 2.75 3.42 2.75 5V7C2.75 8.58 3.42 9.25 5 9.25H7C8.58 9.25 9.25 8.58 9.25 7V5C9.25 3.42 8.58 2.75 7 2.75H5Z"/>
                                <path d="M19 10.75H17C14.58 10.75 13.25 9.42 13.25 7V5C13.25 2.58 14.58 1.25 17 1.25H19C21.42 1.25 22.75 2.58 22.75 5V7C22.75 9.42 21.42 10.75 19 10.75ZM17 2.75C15.42 2.75 14.75 3.42 14.75 5V7C14.75 8.58 15.42 9.25 17 9.25H19C20.58 9.25 21.25 8.58 21.25 7V5C21.25 3.42 20.58 2.75 19 2.75H17Z"/>
                                <path d="M19 22.75H17C14.58 22.75 13.25 21.42 13.25 19V17C13.25 14.58 14.58 13.25 17 13.25H19C21.42 13.25 22.75 14.58 22.75 17V19C22.75 21.42 21.42 22.75 19 22.75ZM17 14.75C15.42 14.75 14.75 15.42 14.75 17V19C14.75 20.58 15.42 21.25 17 21.25H19C20.58 21.25 21.25 20.58 21.25 19V17C21.25 15.42 20.58 14.75 19 14.75H17Z"/>
                                <path d="M7 22.75H5C2.58 22.75 1.25 21.42 1.25 19V17C1.25 14.58 2.58 13.25 5 13.25H7C9.42 13.25 10.75 14.58 10.75 17V19C10.75 21.42 9.42 22.75 7 22.75ZM5 14.75C3.42 14.75 2.75 15.42 2.75 17V19C2.75 20.58 3.42 21.25 5 21.25H7C8.58 21.25 9.25 20.58 9.25 19V17C9.25 15.42 8.58 14.75 7 14.75H5Z"/>
                            </svg>
                            <span class="{% if request.path == '/dashboard/' %}text-indigo-600{% else %}group-hover:text-indigo-600{% endif %}">Overview</span>
                        </a>
                        {% if request.path == '/dashboard/' %}
    <svg style="position: relative; left: 6; " width="14" height="18" viewBox="0 0 14 28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 4.05016C0 -0.917614 14 0.0823975 14 0.0823975V27.0824C14 9.0179 0 9.01794 0 4.05016Z" fill="#5030E5"/>
    </svg>
    {% endif %}
                    </li>
                    
                    <li class="flex space-x-3 items-center group w-44" >
                        <svg class="fill-zinc-500 group-hover:fill-indigo-600" width="25" height="24" viewbox="0 0 25 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.72969 5.87938H8.13131V0.796455H9.72969V5.87938ZM15.825 5.87938H14.2265V0.796455H15.825V5.87938ZM7.90751 10.7492H3.83692V9.15078H7.90751V10.7492ZM20.1193 10.7492H16.0487V9.15078H20.1193L20.1193 10.7492ZM21.1135 14.8198H2.95994C2.94863 14.82 2.93529 14.82 2.92192 14.82C1.51375 14.82 0.336531 13.8311 0.0469687 12.5099L0.0433864 12.4904V12.4659C0.0157811 12.3176 0 12.147 0 11.9728C0 10.6887 0.856817 9.60466 2.02993 9.26127L2.04991 9.25626C2.42493 4.0675 6.72657 0 11.9782 0C17.2235 0 21.5211 4.05762 21.9033 9.20522L21.9053 9.23816C23.1362 9.56062 24.0296 10.663 24.0296 11.974C24.0296 12.1478 24.0139 12.318 23.9838 12.4831L23.9864 12.4659V12.4904C23.6935 13.8291 22.5193 14.817 21.1138 14.8198H21.1135L21.1135 14.8198ZM2.94388 13.2214H21.0847C21.092 13.2215 21.1006 13.2216 21.1092 13.2216C21.7448 13.2216 22.2768 12.7783 22.4128 12.184L22.4146 12.175C22.4252 12.1145 22.4312 12.0449 22.4312 11.9738C22.4312 11.2971 21.8826 10.7484 21.2058 10.7484C21.1902 10.7484 21.1746 10.7487 21.1592 10.7493L21.1614 10.7492L20.3345 10.779V9.95105C20.3345 5.33706 16.5941 1.59673 11.9802 1.59673C7.3662 1.59673 3.62591 5.33709 3.62591 9.95105V10.7535H2.8177C2.14092 10.7535 1.59225 11.3021 1.59225 11.9789C1.59225 12.0497 1.59825 12.119 1.60977 12.1865L1.60874 12.1792C1.74653 12.7825 2.27852 13.2259 2.91408 13.2259C2.92274 13.2259 2.93131 13.2258 2.9399 13.2257H2.93859L2.94388 13.2214ZM3.8369 13.2214H20.9185V15.0862C20.9034 20.0124 16.9064 24 11.9781 24C7.04044 24 3.03766 19.9972 3.03766 15.0595C3.03766 15.0502 3.03766 15.0408 3.0377 15.0314V15.0329V13.9673H3.8369V13.2214ZM19.3201 14.8198H4.63611V15.0329C4.6422 19.0854 7.92568 22.3689 11.9775 22.3749H11.9781C16.0121 22.3649 19.2828 19.111 19.3201 15.0844V15.0809V14.8198Z"/>
                        </svg>


                        <a href="{% url 'virtual' %}" class="{% if request.path == '/virtual/' %}text-indigo-600{% else %} group-hover:text-indigo-600 {% endif %}">Virtual Tour</a>

                        <button id="virtual-tour-dropdown" > <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-5 " viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M6.293 9.293a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg></button>
                       
                        {% if request.path == '/virtual/' %}
    <svg style="position: relative; left: 17; " width="14" height="18" viewBox="0 0 14 28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 4.05016C0 -0.917614 14 0.0823975 14 0.0823975V27.0824C14 9.0179 0 9.01794 0 4.05016Z" fill="#5030E5"/>
    </svg>
    {% endif %}
                        
                    </li>

                    <ul id="virtual-tour-menu" class="hidden space-y-2   text-zinc-500 text-xs font-semibold font-['Plus Jakarta Sans'] leading-[18px]">
                            
                           
                        <li class="flex mx-5 font-serifsans items-center {% if request.path == '/virtual/' %}text-indigo-600 border-l-[3px] border-indigo-600{% else %} group-hover:text-indigo-600 {% endif %}"><a href="#" class="mx-3 hover:underline ">Archieved</a></li>
                        <li class="flex mx-5 items-center "><a href="#" class="mx-3 hover:underline  ">Active Projects</a></li>
                       
                        
                    </ul>
                    
                    
                    <li class="relative flex space-x-3 items-center w-44">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.3701 8.87988H17.6201" stroke="#787486" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6.37988 8.87988L7.12988 9.62988L9.37988 7.37988" stroke="#787486" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12.3701 15.8799H17.6201" stroke="#787486" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6.37988 15.8799L7.12988 16.6299L9.37988 14.3799" stroke="#787486" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z" stroke="#787486" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            
                            <!-- Rounded square for badge background -->
                            

                        </svg>   
                        
                        <svg class="absolute -left-2 top-2" width="25" height="25" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <!-- Rounded square for badge background -->
                            <rect x="12" y="10" width="20" height="20" rx="10" fill="#5030E5" />
                        
                            <!-- Text for badge count -->
                            <text x="22" y="22" fill="white" font-size="18" text-anchor="middle" dominant-baseline="middle">{{ task_count }}</text>
                        </svg>
                        

                    
                        <a href="{% url 'tasks' %}" class="{% if request.path == '/tasks/' %}text-indigo-600{% else %} group-hover:text-indigo-600 {% endif %}">Tasks</a>

                        <button id="tasks-dropdown">-</button>


                        {% if request.path == '/tasks/' %}
    <svg style="position: relative; left: 69; " width="14" height="18" viewBox="0 0 14 28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 4.05016C0 -0.917614 14 0.0823975 14 0.0823975V27.0824C14 9.0179 0 9.01794 0 4.05016Z" fill="#5030E5"/>
    </svg>
    {% endif %}
                        
                    </li>

                    <ul id="tasks-menu" class="hidden space-y-2   text-zinc-500 text-xs font-semibold font-['Plus Jakarta Sans'] leading-[18px]">
                            
                           
                        <li class="flex mx-5 font-serifsans items-center border-l-[3px] border-indigo-600"><a href="#" class="mx-3 hover:underline ">Open</a></li>
                        <li class="flex mx-5 items-center border-l-[3px] border-indigo-600"><a href="#" class="mx-3 hover:underline  ">Done</a></li>
                       
                        
                    </ul>
                    
                    
                    <li class="flex space-x-3 items-center">
                        <svg width="20" height="24" viewbox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.0443 15.8507H3.86488V14.2507H12.0443V15.8507ZM12.0443 11.7867H3.86488V10.1867H12.0443V11.7867ZM12.0443 19.9254H3.86488V18.3254H12.0443V19.9254ZM0 4.0747H12.3773L15.9103 7.59469V24H0V4.0747ZM11.7124 5.67471H1.60592V22.4H14.3033V8.25708L11.7124 5.67471ZM19.9989 19.9254H15.1062V18.3254H18.393V4.18242L15.8011 1.60003H5.69564V4.87472H4.08973V0H16.467L20 3.52003L19.9989 19.9254Z" fill="#787486"/>
                        </svg>


                        <a href="doc.html">Documentation</a>
                    </li>

                    <div class="border-b-2"></div>

                    <!-- Add more dashboard links here -->


                </ul>

                {% block recent %}
                {% endblock %}
                <ul class="space-y-4 mx-3 text-xs mt-5">

                    <h2 class="  text-zinc-500 text-base font-normal font-['Plus Jakarta Sans'] text-start mb-4">Recent Tours</h2>
                    {% for project in projects %}
                    <li class="flex space-x-3 items-center">
                        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 13V21" stroke="#787486" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 10.7614 9.23858 13 12 13Z" stroke="#787486" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                
                
                        <a class="" href="{% url 'virtual_tour' project.slug %}">{{ project.project_name }}</a>
                    </li>
                
                    {% endfor %}
                    
                </ul>

                

                <ul class="space-y-6 mx-3  mt-5">
                    <h2 class="  text-zinc-500 text-base font-normal text-start mb-4">Others</h2>

                    <li class="flex space-x-3 items-center">
                        <svg width="21" height="22" viewbox="0 0 21 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.5 0C11.9674 0 13.157 1.18957 13.157 2.65695C13.157 4.12434 11.9674 5.31391 10.5 5.31391C9.03257 5.31391 7.84307 4.12434 7.84307 2.65695C7.84461 1.19018 9.03323 0.00155893 10.4999 0H10.5H10.5ZM10.5 3.48782C10.9589 3.48782 11.3309 3.11581 11.3309 2.65693C11.3309 2.19805 10.9589 1.82606 10.5 1.82606C10.0411 1.82606 9.66911 2.19805 9.66911 2.65693C9.66962 3.11559 10.0413 3.48727 10.4999 3.4878H10.5L10.5 3.48782ZM14.0243 7.01216H12.1982C12.1982 6.07423 11.4379 5.31391 10.5 5.31391C9.56212 5.31391 8.80175 6.07423 8.80175 7.01216H6.97567C6.97567 5.06571 8.55357 3.4878 10.5 3.4878C12.4465 3.4878 14.0244 5.06569 14.0244 7.01214L14.0243 7.01216ZM17.4756 10.4543C18.9431 10.4543 20.1326 11.6439 20.1326 13.1113C20.1326 14.5787 18.9431 15.7682 17.4756 15.7682C16.0083 15.7682 14.8187 14.5787 14.8187 13.1113C14.8203 11.6445 16.0089 10.4559 17.4755 10.4543H17.4756ZM17.4756 13.9421C17.9345 13.9421 18.3065 13.5702 18.3065 13.1113C18.3065 12.6524 17.9345 12.2804 17.4757 12.2804C17.0168 12.2804 16.6448 12.6524 16.6448 13.1113C16.6453 13.5699 17.017 13.9416 17.4756 13.9421ZM13.9422 17.4793C13.9422 15.5303 15.5221 13.9504 17.4711 13.9504C19.42 13.9504 21 15.5303 21 17.4793L19.1739 17.4729C19.1739 16.5324 18.4115 15.7701 17.4711 15.7701C16.5306 15.7701 15.7682 16.5324 15.7682 17.4729L13.9422 17.4793ZM3.52433 10.4543C4.99174 10.4543 6.18129 11.6439 6.18129 13.1113C6.18129 14.5787 4.99172 15.7682 3.52433 15.7682C2.05693 15.7682 0.867381 14.5787 0.867381 13.1113C0.86894 11.6445 2.05756 10.4559 3.52419 10.4543H3.52433ZM3.52433 13.9422C3.98319 13.9422 4.3552 13.5702 4.3552 13.1113C4.3552 12.6524 3.98321 12.2804 3.52433 12.2804C3.06547 12.2804 2.69346 12.6524 2.69346 13.1113C2.694 13.5699 3.0657 13.9416 3.52433 13.9422ZM7.05778 17.4793L5.23171 17.4729C5.23171 16.5324 4.46933 15.7701 3.52889 15.7701C2.58844 15.7701 1.82604 16.5324 1.82604 17.4729L0 17.4793C0 15.5303 1.57996 13.9504 3.52893 13.9504C5.4779 13.9504 7.05782 15.5303 7.05782 17.4793H7.05778ZM2.70994 9.98504L0.883853 9.86451C1.11306 6.50635 3.03471 3.64329 5.79477 2.10128L5.84351 2.07625L6.7246 3.67592C4.44618 4.94132 2.88835 7.2631 2.71117 9.96186L2.70994 9.98504ZM18.2901 9.98504C18.1121 7.26347 16.555 4.94175 14.3168 3.6961L14.2773 3.67592L15.1565 2.07625C17.9628 3.64472 19.882 6.50745 20.1082 9.83495L20.1098 9.86453L18.2901 9.98504ZM10.5 21.0046C9.18611 21.0033 7.93443 20.7383 6.79462 20.2597L6.85788 20.2833L7.54997 18.5932C8.42194 18.9625 9.43593 19.1772 10.5 19.1772C11.5642 19.1772 12.5781 18.9625 13.501 18.5742L13.45 18.5932L14.1421 20.2833C13.0655 20.7383 11.8139 21.0033 10.5005 21.0046H10.5L10.5 21.0046Z" fill="#787486"/>
                        </svg>


                        <a href="">Members</a>
                    </li>
                    <li class="flex space-x-3 items-center">
                        <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="#787486" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 12.8804V11.1204C2 10.0804 2.85 9.22043 3.9 9.22043C5.71 9.22043 6.45 7.94042 5.54 6.37042C5.02 5.47042 5.33 4.30042 6.24 3.78042L7.97 2.79042C8.76 2.32042 9.78 2.60042 10.25 3.39042L10.36 3.58042C11.26 5.15042 12.74 5.15042 13.65 3.58042L13.76 3.39042C14.23 2.60042 15.25 2.32042 16.04 2.79042L17.77 3.78042C18.68 4.30042 18.99 5.47042 18.47 6.37042C17.56 7.94042 18.3 9.22043 20.11 9.22043C21.15 9.22043 22.01 10.0704 22.01 11.1204V12.8804C22.01 13.9204 21.16 14.7804 20.11 14.7804C18.3 14.7804 17.56 16.0604 18.47 17.6304C18.99 18.5404 18.68 19.7004 17.77 20.2204L16.04 21.2104C15.25 21.6804 14.23 21.4004 13.76 20.6104L13.65 20.4204C12.75 18.8504 11.27 18.8504 10.36 20.4204L10.25 20.6104C9.78 21.4004 8.76 21.6804 7.97 21.2104L6.24 20.2204C5.33 19.7004 5.02 18.5304 5.54 17.6304C6.45 16.0604 5.71 14.7804 3.9 14.7804C2.85 14.7804 2 13.9204 2 12.8804Z" stroke="#787486" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>


                        <a href="">Settings</a>
                    </li>

                    <li class="flex items-end ">                    <a href="{% url 'logout' %}">Logout</a>
                    </li>
                </ul>
            </aside>


            <main class="">

                {% block content %}

                {% endblock %}
             

            </main>
                

        </div>
        
        
        </div>















        <script>
        
        document.addEventListener('DOMContentLoaded', function () {
            const virtualTourDropdown = document.getElementById('virtual-tour-dropdown');
            const virtualTourMenu = document.getElementById('virtual-tour-menu');
          
            virtualTourDropdown.addEventListener('click', function () {
              if (virtualTourMenu.classList.contains('hidden')) {
                virtualTourMenu.classList.remove('hidden');
              } else {
                virtualTourMenu.classList.add('hidden');
              }
            });
          });


        
          </script>



        <script>
            document.addEventListener('DOMContentLoaded', function () {
  const tasksDropdown = document.getElementById('tasks-dropdown');
  const tasksMenu = document.getElementById('tasks-menu');

  tasksDropdown.addEventListener('click', function () {
    if (tasksMenu.classList.contains('hidden')) {
      tasksMenu.classList.remove('hidden');
    } else {
      tasksMenu.classList.add('hidden');
    }
  });
});

        </script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const sidebarToggle = document.getElementById("sidebar-toggle");
        const dashboardSidebar = document.getElementById("dashboard-sidebar");

        sidebarToggle.addEventListener("click", function () {
            dashboardSidebar.classList.toggle("hidden");
            // You can add or remove any other classes or styles as needed for your specific design
        });
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

</body>
</html>
